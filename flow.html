<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Pack YouR Code</title>
  <meta name="description" content="Basic example of how to create an R package based on S3 classes.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Pack YouR Code" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Basic example of how to create an R package based on S3 classes." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Pack YouR Code" />
  
  <meta name="twitter:description" content="Basic example of how to create an R package based on S3 classes." />
  

<meta name="author" content="Gaston Sanchez">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="states.html">
<link rel="next" href="sharing.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Pack YouR Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="part"><span><b>I Motivation</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Letâ€™s toss a coin</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#coin-object"><i class="fa fa-check"></i><b>1.1</b> Coin object</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#tossing-a-coin"><i class="fa fa-check"></i><b>1.2</b> Tossing a coin</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#random-samples"><i class="fa fa-check"></i><b>1.2.1</b> Random Samples</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#the-random-seed"><i class="fa fa-check"></i><b>1.3</b> The Random Seed</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#sampling-with-different-probabilities"><i class="fa fa-check"></i><b>1.4</b> Sampling with different probabilities</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#simulating-tossing-a-coin"><i class="fa fa-check"></i><b>1.4.1</b> Simulating tossing a coin</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="function.html"><a href="function.html"><i class="fa fa-check"></i><b>2</b> Tossing Function</a><ul>
<li class="chapter" data-level="2.1" data-path="function.html"><a href="function.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="function.html"><a href="function.html#a-toss-function"><i class="fa fa-check"></i><b>2.2</b> A <code>toss()</code> function</a></li>
<li class="chapter" data-level="2.3" data-path="function.html"><a href="function.html#documenting-functions"><i class="fa fa-check"></i><b>2.3</b> Documenting Functions</a></li>
<li class="chapter" data-level="2.4" data-path="function.html"><a href="function.html#roxygen-comments"><i class="fa fa-check"></i><b>2.4</b> Roxygen Comments</a><ul>
<li class="chapter" data-level="2.4.1" data-path="function.html"><a href="function.html#about-roxygen-comments"><i class="fa fa-check"></i><b>2.4.1</b> About Roxygen Comments</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Classes</b></span></li>
<li class="chapter" data-level="3" data-path="coin.html"><a href="coin.html"><i class="fa fa-check"></i><b>3</b> Coin Objects</a><ul>
<li class="chapter" data-level="3.1" data-path="coin.html"><a href="coin.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coin.html"><a href="coin.html#objects-and-classes"><i class="fa fa-check"></i><b>3.2</b> Objects and Classes</a></li>
<li class="chapter" data-level="3.3" data-path="coin.html"><a href="coin.html#s3-classes"><i class="fa fa-check"></i><b>3.3</b> S3 Classes</a><ul>
<li class="chapter" data-level="3.3.1" data-path="coin.html"><a href="coin.html#making-an-object"><i class="fa fa-check"></i><b>3.3.1</b> Making an object</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="coin.html"><a href="coin.html#a-more-robust-coin-class"><i class="fa fa-check"></i><b>3.4</b> A more robust <code>&quot;coin&quot;</code> class</a></li>
<li class="chapter" data-level="3.5" data-path="coin.html"><a href="coin.html#improving-coin-objects"><i class="fa fa-check"></i><b>3.5</b> Improving <code>&quot;coin&quot;</code> objects</a><ul>
<li class="chapter" data-level="3.5.1" data-path="coin.html"><a href="coin.html#attributes"><i class="fa fa-check"></i><b>3.5.1</b> Attributes</a></li>
<li class="chapter" data-level="3.5.2" data-path="coin.html"><a href="coin.html#using-a-list"><i class="fa fa-check"></i><b>3.5.2</b> Using a list</a></li>
<li class="chapter" data-level="3.5.3" data-path="coin.html"><a href="coin.html#auxiliary-checker"><i class="fa fa-check"></i><b>3.5.3</b> Auxiliary Checker</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="coin.html"><a href="coin.html#print-method-for-coin"><i class="fa fa-check"></i><b>3.6</b> Print Method for <code>&quot;coin&quot;</code></a></li>
<li class="chapter" data-level="3.7" data-path="coin.html"><a href="coin.html#extending-classes"><i class="fa fa-check"></i><b>3.7</b> Extending classes</a></li>
</ul></li>
<li class="part"><span><b>III Methods</b></span></li>
<li class="chapter" data-level="4" data-path="methods1.html"><a href="methods1.html"><i class="fa fa-check"></i><b>4</b> Methods (part 1)</a><ul>
<li class="chapter" data-level="4.1" data-path="methods1.html"><a href="methods1.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="methods1.html"><a href="methods1.html#improving-toss"><i class="fa fa-check"></i><b>4.2</b> Improving <code>toss()</code></a></li>
<li class="chapter" data-level="4.3" data-path="methods1.html"><a href="methods1.html#generic-method-toss"><i class="fa fa-check"></i><b>4.3</b> Generic Method <code>toss</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="toss.html"><a href="toss.html"><i class="fa fa-check"></i><b>5</b> Object toss</a><ul>
<li class="chapter" data-level="5.1" data-path="toss.html"><a href="toss.html#introduction-3"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="toss.html"><a href="toss.html#motivation-for-object-toss"><i class="fa fa-check"></i><b>5.2</b> Motivation for object <code>&quot;toss&quot;</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="toss.html"><a href="toss.html#auxiliary-constructor"><i class="fa fa-check"></i><b>5.2.1</b> Auxiliary Constructor</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="toss.html"><a href="toss.html#main-function-toss"><i class="fa fa-check"></i><b>5.3</b> Main Function <code>toss()</code></a></li>
<li class="chapter" data-level="5.4" data-path="toss.html"><a href="toss.html#upgrading-toss"><i class="fa fa-check"></i><b>5.4</b> Upgrading <code>toss()</code></a><ul>
<li class="chapter" data-level="5.4.1" data-path="toss.html"><a href="toss.html#in-summary"><i class="fa fa-check"></i><b>5.4.1</b> In Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="methods2.html"><a href="methods2.html"><i class="fa fa-check"></i><b>6</b> Methods (part 2)</a><ul>
<li class="chapter" data-level="6.1" data-path="methods2.html"><a href="methods2.html#introduction-4"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="methods2.html"><a href="methods2.html#print-method"><i class="fa fa-check"></i><b>6.2</b> Print Method</a></li>
<li class="chapter" data-level="6.3" data-path="methods2.html"><a href="methods2.html#summary-method"><i class="fa fa-check"></i><b>6.3</b> Summary Method</a></li>
<li class="chapter" data-level="6.4" data-path="methods2.html"><a href="methods2.html#plot-method"><i class="fa fa-check"></i><b>6.4</b> Plot Method</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="methods3.html"><a href="methods3.html"><i class="fa fa-check"></i><b>7</b> Additional Methods</a><ul>
<li class="chapter" data-level="7.1" data-path="methods3.html"><a href="methods3.html#introduction-5"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="methods3.html"><a href="methods3.html#replacement-method"><i class="fa fa-check"></i><b>7.2</b> Replacement Method</a></li>
<li class="chapter" data-level="7.3" data-path="methods3.html"><a href="methods3.html#extraction-method"><i class="fa fa-check"></i><b>7.3</b> Extraction Method</a></li>
<li class="chapter" data-level="7.4" data-path="methods3.html"><a href="methods3.html#is-toss"><i class="fa fa-check"></i><b>7.4</b> Is <code>&quot;toss&quot;</code></a></li>
<li class="chapter" data-level="7.5" data-path="methods3.html"><a href="methods3.html#addition-method"><i class="fa fa-check"></i><b>7.5</b> Addition Method</a></li>
</ul></li>
<li class="part"><span><b>IV Package Structure</b></span></li>
<li class="chapter" data-level="8" data-path="toy-package.html"><a href="toy-package.html"><i class="fa fa-check"></i><b>8</b> Toy Package</a><ul>
<li class="chapter" data-level="8.1" data-path="toy-package.html"><a href="toy-package.html#introduction-6"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="toy-package.html"><a href="toy-package.html#an-off-the-shelf-package"><i class="fa fa-check"></i><b>8.2</b> An off-the-shelf package</a></li>
<li class="chapter" data-level="8.3" data-path="toy-package.html"><a href="toy-package.html#minimal-filestructure"><i class="fa fa-check"></i><b>8.3</b> Minimal Filestructure</a></li>
<li class="chapter" data-level="8.4" data-path="toy-package.html"><a href="toy-package.html#quick-build"><i class="fa fa-check"></i><b>8.4</b> Quick Build</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>9</b> Filestructure</a><ul>
<li class="chapter" data-level="9.1" data-path="structure.html"><a href="structure.html#introduction-7"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="structure.html"><a href="structure.html#scenarios"><i class="fa fa-check"></i><b>9.2</b> Scenarios</a></li>
<li class="chapter" data-level="9.3" data-path="structure.html"><a href="structure.html#minimal-package"><i class="fa fa-check"></i><b>9.3</b> Minimal Package</a></li>
<li class="chapter" data-level="9.4" data-path="structure.html"><a href="structure.html#default-devtools-setting"><i class="fa fa-check"></i><b>9.4</b> Default devtools setting</a></li>
<li class="chapter" data-level="9.5" data-path="structure.html"><a href="structure.html#our-working-example"><i class="fa fa-check"></i><b>9.5</b> Our working example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>10</b> Description File</a><ul>
<li class="chapter" data-level="10.1" data-path="description.html"><a href="description.html#introduction-8"><i class="fa fa-check"></i><b>10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.2" data-path="description.html"><a href="description.html#sample-description"><i class="fa fa-check"></i><b>10.2</b> Sample Description</a></li>
<li class="chapter" data-level="10.3" data-path="description.html"><a href="description.html#mandatory-fields"><i class="fa fa-check"></i><b>10.3</b> Mandatory Fields</a><ul>
<li class="chapter" data-level="10.3.1" data-path="description.html"><a href="description.html#package-name"><i class="fa fa-check"></i><b>10.3.1</b> Package Name</a></li>
<li class="chapter" data-level="10.3.2" data-path="description.html"><a href="description.html#title"><i class="fa fa-check"></i><b>10.3.2</b> Title</a></li>
<li class="chapter" data-level="10.3.3" data-path="description.html"><a href="description.html#description-1"><i class="fa fa-check"></i><b>10.3.3</b> Description</a></li>
<li class="chapter" data-level="10.3.4" data-path="description.html"><a href="description.html#author-and-maintainer"><i class="fa fa-check"></i><b>10.3.4</b> Author and Maintainer</a></li>
<li class="chapter" data-level="10.3.5" data-path="description.html"><a href="description.html#version"><i class="fa fa-check"></i><b>10.3.5</b> Version</a></li>
<li class="chapter" data-level="10.3.6" data-path="description.html"><a href="description.html#license"><i class="fa fa-check"></i><b>10.3.6</b> License</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="description.html"><a href="description.html#optional-fields"><i class="fa fa-check"></i><b>10.4</b> Optional Fields</a><ul>
<li class="chapter" data-level="10.4.1" data-path="description.html"><a href="description.html#encoding"><i class="fa fa-check"></i><b>10.4.1</b> Encoding</a></li>
<li class="chapter" data-level="10.4.2" data-path="description.html"><a href="description.html#lazydata"><i class="fa fa-check"></i><b>10.4.2</b> LazyData</a></li>
<li class="chapter" data-level="10.4.3" data-path="description.html"><a href="description.html#type"><i class="fa fa-check"></i><b>10.4.3</b> Type</a></li>
<li class="chapter" data-level="10.4.4" data-path="description.html"><a href="description.html#vignettebuilder"><i class="fa fa-check"></i><b>10.4.4</b> VignetteBuilder</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="namespace.html"><a href="namespace.html"><i class="fa fa-check"></i><b>11</b> Namespace</a><ul>
<li class="chapter" data-level="11.1" data-path="namespace.html"><a href="namespace.html#introduction-9"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="namespace.html"><a href="namespace.html#about-namespaces"><i class="fa fa-check"></i><b>11.2</b> About Namespaces</a></li>
<li class="chapter" data-level="11.3" data-path="namespace.html"><a href="namespace.html#namespace-of-a-package"><i class="fa fa-check"></i><b>11.3</b> Namespace of a Package</a><ul>
<li class="chapter" data-level="11.3.1" data-path="namespace.html"><a href="namespace.html#exported-functions"><i class="fa fa-check"></i><b>11.3.1</b> Exported Functions</a></li>
<li class="chapter" data-level="11.3.2" data-path="namespace.html"><a href="namespace.html#roxygen-export"><i class="fa fa-check"></i><b>11.3.2</b> Roxygen export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>12</b> Tests</a><ul>
<li class="chapter" data-level="12.1" data-path="tests.html"><a href="tests.html#introduction-10"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="tests.html"><a href="tests.html#including-tests"><i class="fa fa-check"></i><b>12.2</b> Including Tests</a></li>
<li class="chapter" data-level="12.3" data-path="tests.html"><a href="tests.html#script-testthat.r"><i class="fa fa-check"></i><b>12.3</b> Script <code>testthat.R</code></a></li>
<li class="chapter" data-level="12.4" data-path="tests.html"><a href="tests.html#about-testthat"><i class="fa fa-check"></i><b>12.4</b> About <code>&quot;testthat&quot;</code></a><ul>
<li class="chapter" data-level="12.4.1" data-path="tests.html"><a href="tests.html#list-of-common-expectation-functions"><i class="fa fa-check"></i><b>12.4.1</b> List of common expectation functions</a></li>
<li class="chapter" data-level="12.4.2" data-path="tests.html"><a href="tests.html#remarks"><i class="fa fa-check"></i><b>12.4.2</b> Remarks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="vignettes.html"><a href="vignettes.html"><i class="fa fa-check"></i><b>13</b> Vignettes</a><ul>
<li class="chapter" data-level="13.1" data-path="vignettes.html"><a href="vignettes.html#introduction-11"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="vignettes.html"><a href="vignettes.html#including-vignettes"><i class="fa fa-check"></i><b>13.2</b> Including Vignettes</a></li>
</ul></li>
<li class="part"><span><b>V Packaging</b></span></li>
<li class="chapter" data-level="14" data-path="states.html"><a href="states.html"><i class="fa fa-check"></i><b>14</b> Package States</a><ul>
<li class="chapter" data-level="14.1" data-path="states.html"><a href="states.html#introduction-12"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="states.html"><a href="states.html#package-states"><i class="fa fa-check"></i><b>14.2</b> Package States</a><ul>
<li class="chapter" data-level="14.2.1" data-path="states.html"><a href="states.html#source-package"><i class="fa fa-check"></i><b>14.2.1</b> Source Package</a></li>
<li class="chapter" data-level="14.2.2" data-path="states.html"><a href="states.html#bundled-package"><i class="fa fa-check"></i><b>14.2.2</b> Bundled Package</a></li>
<li class="chapter" data-level="14.2.3" data-path="states.html"><a href="states.html#binary-package"><i class="fa fa-check"></i><b>14.2.3</b> Binary Package</a></li>
<li class="chapter" data-level="14.2.4" data-path="states.html"><a href="states.html#installed-package"><i class="fa fa-check"></i><b>14.2.4</b> Installed Package</a></li>
<li class="chapter" data-level="14.2.5" data-path="states.html"><a href="states.html#in-memory-package"><i class="fa fa-check"></i><b>14.2.5</b> In-memory Package</a></li>
<li class="chapter" data-level="14.2.6" data-path="states.html"><a href="states.html#remarks-1"><i class="fa fa-check"></i><b>14.2.6</b> Remarks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="flow.html"><a href="flow.html"><i class="fa fa-check"></i><b>15</b> Packaging Flow</a><ul>
<li class="chapter" data-level="15.1" data-path="flow.html"><a href="flow.html#introduction-13"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="flow.html"><a href="flow.html#example-structure"><i class="fa fa-check"></i><b>15.2</b> Example Structure</a></li>
<li class="chapter" data-level="15.3" data-path="flow.html"><a href="flow.html#workflow"><i class="fa fa-check"></i><b>15.3</b> Workflow</a><ul>
<li class="chapter" data-level="15.3.1" data-path="flow.html"><a href="flow.html#optional-devtools-file"><i class="fa fa-check"></i><b>15.3.1</b> Optional devtools file</a></li>
<li class="chapter" data-level="15.3.2" data-path="flow.html"><a href="flow.html#rstudio-build-and-check"><i class="fa fa-check"></i><b>15.3.2</b> RStudio Build and Check</a></li>
<li class="chapter" data-level="15.3.3" data-path="flow.html"><a href="flow.html#sample-package-cointoss"><i class="fa fa-check"></i><b>15.3.3</b> Sample Package <code>cointoss</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sharing.html"><a href="sharing.html"><i class="fa fa-check"></i><b>16</b> Sharing</a><ul>
<li class="chapter" data-level="16.1" data-path="sharing.html"><a href="sharing.html#introduction-14"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="sharing.html"><a href="sharing.html#file-sharing"><i class="fa fa-check"></i><b>16.2</b> File sharing</a></li>
<li class="chapter" data-level="16.3" data-path="sharing.html"><a href="sharing.html#github"><i class="fa fa-check"></i><b>16.3</b> GitHub</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pack YouR Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="flow" class="section level1">
<h1><span class="header-section-number">15</span> Packaging Flow</h1>
<div id="introduction-13" class="section level2">
<h2><span class="header-section-number">15.1</span> Introduction</h2>
<p>For better or for worse, there is not a unique recipe to build a package. In other words, there is not a unique sequence of steps that you should always follow in order to take a source package and make it part of the installed packages.
In this chapter I will describe an opinionated workflow to pack the source code of our working example.</p>
</div>
<div id="example-structure" class="section level2">
<h2><span class="header-section-number">15.2</span> Example Structure</h2>
<p>The following diagram depicts the filestructure for our working example with the package <code>cointoss</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-117"></span>
<img src="images/pkg-example.png" alt="Assumed filestructure" width="35%" />
<p class="caption">
Figure 15.1: Assumed filestructure
</p>
</div>
<p>Letâ€™s assume that the source package you are developing has the previous structure. If this is not the case for you, at least keep in mind that the mandatory components are <code>DESCRIPTION</code>, <code>NAMESPACE</code>, <code>R/</code> and <code>man/</code>.</p>
</div>
<div id="workflow" class="section level2">
<h2><span class="header-section-number">15.3</span> Workflow</h2>
<p>Because a package is made up of various types of filesâ€”which can be located in different subdirectoriesâ€”that play different roles, you can actually break down the overall creation of a package into separate pieces. Interestingly, each of the resulting pieces can be created separately. Consequently, the packaging process that you follow may depend on the piece (or pieces) that need to be built as you add or change components in a package.</p>
<p>The core part of a package is the code in the <code>R/</code> directory. Most of the modifications made at this level will very likely have a cascading effect on the rest of elements in the package. From this point of view, a typical packaging workflow involves the following steps:</p>
<ul>
<li>Create Documentation</li>
<li>Check Documentation</li>
<li>Run Tests</li>
<li>Knit Vignettes</li>
<li>Build Bundle</li>
<li>Install Package</li>
<li>Check Package</li>
</ul>
<p>You can use functions from <code>&quot;devtools&quot;</code> to individually perform each of the actions previously listed. The following table shows such functions.</p>
<table>
<thead>
<tr class="header">
<th align="left">Action</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Create Documentation</td>
<td align="left"><code>devtools::document()</code></td>
</tr>
<tr class="even">
<td align="left">Check Documentation</td>
<td align="left"><code>devtools::check_man()</code></td>
</tr>
<tr class="odd">
<td align="left">Run Tests</td>
<td align="left"><code>devtools::test()</code></td>
</tr>
<tr class="even">
<td align="left">Knit Vignettes</td>
<td align="left"><code>devtools::build_vignettes()</code></td>
</tr>
<tr class="odd">
<td align="left">Build Bundle</td>
<td align="left"><code>devtools::build()</code></td>
</tr>
<tr class="even">
<td align="left">Install binary</td>
<td align="left"><code>devtools::install()</code></td>
</tr>
<tr class="odd">
<td align="left">Check</td>
<td align="left"><code>devtools::check()</code></td>
</tr>
</tbody>
</table>
<p><br></p>
<p><em>Note: Assuming that your working directory is the one containing all the files and subdirectories of your package, you can invoke the <code>devtools</code> functions from the console.</em></p>
<p><br></p>
<p><strong>Create Documentation</strong>: When you change the roxygen comments of your functions, you will need to (re)generate the corresponding manual documentation. This can be done with the function <code>devtools::document()</code> which generates the so-called <code>.Rd</code> (R documentation) files, located in the <code>man/</code> directory.</p>
<p><strong>Check Documentation</strong>: An optional, but strongly recommended, step after new documentation has been generated, is to check that it is correct. This step becomes mandatory if you plan to share your package via CRAN. To check that the <code>.Rd</code> files are okay, use the function <code>devtools::check_man()</code>. This function inspects that the content and syntax of the <code>.Rd</code> files are correct. A typical cause for this check-up to fail is when you have typos or inconsistencies. For example: when the definition of a function contains the argument <code>x</code> but your roxygen comment <code>@param</code> uses <code>y</code>.</p>
<p><strong>Run Tests</strong>: If your package contains unit-tests, included in the directory <code>tests/</code>, you can use the function <code>devtools::test()</code> to run such tests.</p>
<p><strong>Build Vignettes</strong>: If your package contains vignettes, included in the directory <code>vignettes/</code>, you can use the function <code>devtools::build_vignettes()</code> to build them. This function generates the vignettes by knitting the <code>.Rmd</code> files in the <code>vignettes/</code> directory, and it will produce output files in the <code>inst/</code> folder.</p>
<p><strong>Build Bundle</strong>: If you just simply want to convert a package source into a single bundled file, you use the function <code>devtools::build()</code>. This function will create, by default, the <code>.tar.gz</code> file that in turn can be installed on any platform.</p>
<p>To create a binary package, you have to use the argument <code>binary = TRUE</code>. Keep in mind that this generated binary will be platform specific, and will only be installable on the current platform. Most of the time, there is no need to create a binary package.</p>
<p><code>build()</code> does not generate or check any documentation. It also does not run any tests. However, <code>build()</code> does build vignettes by default.</p>
<p><strong>Install</strong>: To install the package you can use <code>devtools::install()</code>. This function can install a source, bundle or a binary package. After the installation is done, you should be able to load the package with <code>library()</code> in order to use its functions, inspect its manual documentation, and read the available vignettes.</p>
<p><strong>Check</strong>: Optionally, you can carry out an integral check of the package. This checking is a comprehensive one, and it will verify pretty much every single detail.</p>
<div id="optional-devtools-file" class="section level3">
<h3><span class="header-section-number">15.3.1</span> Optional devtools file</h3>
<p>Unless you are constantly creating packages, you will very likely forget what functions to use for a specific purpose. One small hack that I tend to use is to include an auxiliary <code>.R</code> file in the source package, which I typically name as <code>devtools-flow.R</code> (or something like that). This file basically contains the list of <code>&quot;devtools&quot;</code> functions that weâ€™ve discussed so far. The following code shows the typical commands of the auxiliary file:</p>
<pre><code># =====================================================
# Devtools workflow
# =====================================================

devtools::document()          # generate documentation
devtools::check_man()         # check documentation
devtools::test()              # run tests
devtools::build_vignettes()   # build vignettes
devtools::build()             # build bundle
devtools::install()           # install package
devtools::check()             # comprehensive check (optional)</code></pre>
<p>You can think of this auxiliary file, e.g. <code>devtools-flow.R</code>, as a cheat-sheet. But keep in mind that this is an additional file that the building functions are NOT expecting to find. Thatâ€™s why you should include the name of this file in your <code>.Rbuildignore</code> file.
Add a new line with the name of the file to <code>.Rbuildignore</code>, and remember to anchor it with the caret <code>^</code> character. Hereâ€™s what your <code>.Rbuildignore</code> file may look like:</p>
<pre><code>^.*\.Rproj$
^\.Rproj\.user$
^devtools-flow.R</code></pre>
<p>I should also say that the inclusion of a <code>devtools-flow.R</code> file is completely optional, and there are actually more efficient (but also more advanced/complex) ways to add a <em>master</em> script that you execute in a programmatic way everytime something new has to be built.</p>
</div>
<div id="rstudio-build-and-check" class="section level3">
<h3><span class="header-section-number">15.3.2</span> RStudio Build and Check</h3>
<p>When you use an RStudio R.project, you will see that the pane containing the Environment, History, and Connections, will show one additonal tab called <strong>Build</strong>.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-118"></span>
<img src="images/flow-build-tab.png" alt="Build tab" width="55%" />
<p class="caption">
Figure 15.2: Build tab
</p>
</div>
<p>This tab displays three buttons:</p>
<ul>
<li>Install and Restart</li>
<li>Check</li>
<li>More</li>
</ul>
<p>The <strong>Install and Restart</strong> button will install and reload your package, starting a fresh session.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-119"></span>
<img src="images/flow-icon-install.png" alt="Install icon" width="35%" />
<p class="caption">
Figure 15.3: Install icon
</p>
</div>
<p>The <strong>Check</strong> button will perform a comprehensive check of your package.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-120"></span>
<img src="images/flow-icon-check.png" alt="Check icon" width="25%" />
<p class="caption">
Figure 15.4: Check icon
</p>
</div>
<p>The <strong>Build</strong> button shows more building options.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-121"></span>
<img src="images/flow-icon-build.png" alt="Build icon" width="35%" />
<p class="caption">
Figure 15.5: Build icon
</p>
</div>
</div>
<div id="sample-package-cointoss" class="section level3">
<h3><span class="header-section-number">15.3.3</span> Sample Package <code>cointoss</code></h3>
<p>You can find the source package of <code>&quot;cointoss&quot;</code> in the following github repository:</p>
<p><a href="https://github.com/gastonstat/cointoss" class="uri">https://github.com/gastonstat/cointoss</a></p>
<p>Feel free to download (or clone) the repository and modify its contents to experiment and practice how to create an R package.</p>
<p>Happy packaging and â€¦ <em>May the FoRce be with You!</em></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="states.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sharing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["packyourcode.pdf", "packyourcode.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
