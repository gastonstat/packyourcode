<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Methods (part 1) | Pack YouR Code</title>
  <meta name="description" content="This book showcases a basic example of how to create an R package based on S3 classes." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Methods (part 1) | Pack YouR Code" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/pack-your-code-logo.png" />
  <meta property="og:description" content="This book showcases a basic example of how to create an R package based on S3 classes." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Methods (part 1) | Pack YouR Code" />
  
  <meta name="twitter:description" content="This book showcases a basic example of how to create an R package based on S3 classes." />
  <meta name="twitter:image" content="images/pack-your-code-logo.png" />

<meta name="author" content="Gaston Sanchez" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="coin.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Pack YouR Code</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#full-edition"><i class="fa fa-check"></i>Full Edition</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preview-edition"><i class="fa fa-check"></i>Preview Edition</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#preface"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Motivation</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Let’s Toss a Coin</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#coin-object"><i class="fa fa-check"></i><b>1.1</b> Coin object</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#tossing-a-coin"><i class="fa fa-check"></i><b>1.2</b> Tossing a coin</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#random-samples"><i class="fa fa-check"></i><b>1.2.1</b> Random Samples</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#the-random-seed"><i class="fa fa-check"></i><b>1.3</b> The Random Seed</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#sampling-with-different-probabilities"><i class="fa fa-check"></i><b>1.4</b> Sampling with different probabilities</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#simulating-tossing-a-coin"><i class="fa fa-check"></i><b>1.4.1</b> Simulating tossing a coin</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="function.html"><a href="function.html"><i class="fa fa-check"></i><b>2</b> Tossing Function</a><ul>
<li class="chapter" data-level="2.1" data-path="function.html"><a href="function.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="function.html"><a href="function.html#a-toss-function"><i class="fa fa-check"></i><b>2.2</b> A <code>toss()</code> function</a></li>
<li class="chapter" data-level="2.3" data-path="function.html"><a href="function.html#documenting-functions"><i class="fa fa-check"></i><b>2.3</b> Documenting Functions</a></li>
<li class="chapter" data-level="2.4" data-path="function.html"><a href="function.html#roxygen-comments"><i class="fa fa-check"></i><b>2.4</b> Roxygen Comments</a><ul>
<li class="chapter" data-level="2.4.1" data-path="function.html"><a href="function.html#about-roxygen-comments"><i class="fa fa-check"></i><b>2.4.1</b> About Roxygen Comments</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Classes and Methods</b></span></li>
<li class="chapter" data-level="3" data-path="coin.html"><a href="coin.html"><i class="fa fa-check"></i><b>3</b> Coin Objects</a><ul>
<li class="chapter" data-level="3.1" data-path="coin.html"><a href="coin.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coin.html"><a href="coin.html#objects-and-classes"><i class="fa fa-check"></i><b>3.2</b> Objects and Classes</a></li>
<li class="chapter" data-level="3.3" data-path="coin.html"><a href="coin.html#s3-classes"><i class="fa fa-check"></i><b>3.3</b> S3 Classes</a><ul>
<li class="chapter" data-level="3.3.1" data-path="coin.html"><a href="coin.html#making-an-object"><i class="fa fa-check"></i><b>3.3.1</b> Making an object</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="coin.html"><a href="coin.html#a-more-robust-coin-class"><i class="fa fa-check"></i><b>3.4</b> A more robust <code>"coin"</code> class</a></li>
<li class="chapter" data-level="3.5" data-path="coin.html"><a href="coin.html#improving-coin-objects"><i class="fa fa-check"></i><b>3.5</b> Improving <code>"coin"</code> objects</a><ul>
<li class="chapter" data-level="3.5.1" data-path="coin.html"><a href="coin.html#attributes"><i class="fa fa-check"></i><b>3.5.1</b> Attributes</a></li>
<li class="chapter" data-level="3.5.2" data-path="coin.html"><a href="coin.html#using-a-list"><i class="fa fa-check"></i><b>3.5.2</b> Using a list</a></li>
<li class="chapter" data-level="3.5.3" data-path="coin.html"><a href="coin.html#auxiliary-checker-function"><i class="fa fa-check"></i><b>3.5.3</b> Auxiliary Checker Function</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="coin.html"><a href="coin.html#print-method-for-coin-objects"><i class="fa fa-check"></i><b>3.6</b> Print Method for <code>"coin"</code> Objects</a></li>
<li class="chapter" data-level="3.7" data-path="coin.html"><a href="coin.html#extending-classes"><i class="fa fa-check"></i><b>3.7</b> Extending classes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="methods1.html"><a href="methods1.html"><i class="fa fa-check"></i><b>4</b> Methods (part 1)</a><ul>
<li class="chapter" data-level="4.1" data-path="methods1.html"><a href="methods1.html#introduction-2"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="methods1.html"><a href="methods1.html#improving-toss"><i class="fa fa-check"></i><b>4.2</b> Improving <code>toss()</code></a></li>
<li class="chapter" data-level="4.3" data-path="methods1.html"><a href="methods1.html#generic-method-toss"><i class="fa fa-check"></i><b>4.3</b> Generic Method <code>toss</code></a></li>
</ul></li>
<li class="part"><span><b>III Package Structure</b></span></li>
<li class="part"><span><b>IV Packaging</b></span></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Pack YouR Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods1" class="section level1">
<h1><span class="header-section-number">4</span> Methods (part 1)</h1>
<div id="introduction-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>Having seen how to create S3 objects, in this chapter you will learn about how
to create methods for S3 objects.</p>
</div>
<div id="improving-toss" class="section level2">
<h2><span class="header-section-number">4.2</span> Improving <code>toss()</code></h2>
<p>From <a href="function.html#function">chapter 2</a>, we ended up with the following <code>toss()</code> function:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="methods1.html#cb56-1"></a><span class="co">#&#39; @title Coin toss function </span></span>
<span id="cb56-2"><a href="methods1.html#cb56-2"></a><span class="co">#&#39; @description Simulates tossing a coin a given number of times</span></span>
<span id="cb56-3"><a href="methods1.html#cb56-3"></a><span class="co">#&#39; @param x coin object (a vector)</span></span>
<span id="cb56-4"><a href="methods1.html#cb56-4"></a><span class="co">#&#39; @param times number of tosses</span></span>
<span id="cb56-5"><a href="methods1.html#cb56-5"></a><span class="co">#&#39; @param prob vector of probabilities for each side of the coin</span></span>
<span id="cb56-6"><a href="methods1.html#cb56-6"></a><span class="co">#&#39; @return vector of tosses</span></span>
<span id="cb56-7"><a href="methods1.html#cb56-7"></a>toss &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">times =</span> <span class="dv">1</span>, <span class="dt">prob =</span> <span class="ot">NULL</span>) {</span>
<span id="cb56-8"><a href="methods1.html#cb56-8"></a>  <span class="kw">sample</span>(x, <span class="dt">size =</span> times, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> prob)</span>
<span id="cb56-9"><a href="methods1.html#cb56-9"></a>}</span></code></pre></div>
<p>The issue with the way <code>toss()</code> has been defined so far, is that you can provide
any type of input vector (not necessarily of class <code>"coin"</code>), and it will still
work. For instance, let’s bring back the vector <code>c('tic', 'tac', 'toe')</code> and
use it as an input for <code>toss()</code></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="methods1.html#cb57-1"></a><span class="kw">toss</span>(<span class="kw">c</span>(<span class="st">&#39;tic&#39;</span>, <span class="st">&#39;tac&#39;</span>, <span class="st">&#39;toe&#39;</span>))</span>
<span id="cb57-2"><a href="methods1.html#cb57-2"></a><span class="co">#&gt; [1] &quot;toe&quot;</span></span></code></pre></div>
<p>The reason why <code>toss()</code> works with pretty much any vector, is because we are
not checking for the validity of the input vector. That is, currently we are
not enforcing the input vector to be an object of class <code>"coin"</code>.</p>
<p>To create a function <code>toss()</code> that only works for objects of class <code>"coin"</code>, we
could add a <code>stop()</code> condition that checks if the argument <code>x</code> is of the right
class:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="methods1.html#cb58-1"></a>toss &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">times =</span> <span class="dv">1</span>, <span class="dt">prob =</span> <span class="ot">NULL</span>) {</span>
<span id="cb58-2"><a href="methods1.html#cb58-2"></a>  <span class="cf">if</span> (<span class="kw">class</span>(x) <span class="op">!=</span><span class="st"> &quot;coin&quot;</span>) {</span>
<span id="cb58-3"><a href="methods1.html#cb58-3"></a>    <span class="kw">stop</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">toss() requires an object &#39;coin&#39;&quot;</span>)</span>
<span id="cb58-4"><a href="methods1.html#cb58-4"></a>  }</span>
<span id="cb58-5"><a href="methods1.html#cb58-5"></a>  <span class="kw">sample</span>(x<span class="op">$</span>sides, <span class="dt">size =</span> times, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> prob)</span>
<span id="cb58-6"><a href="methods1.html#cb58-6"></a>}</span>
<span id="cb58-7"><a href="methods1.html#cb58-7"></a></span>
<span id="cb58-8"><a href="methods1.html#cb58-8"></a><span class="co"># ok</span></span>
<span id="cb58-9"><a href="methods1.html#cb58-9"></a><span class="kw">toss</span>(coin1)</span>
<span id="cb58-10"><a href="methods1.html#cb58-10"></a><span class="co">#&gt; [1] &quot;tails&quot;</span></span>
<span id="cb58-11"><a href="methods1.html#cb58-11"></a></span>
<span id="cb58-12"><a href="methods1.html#cb58-12"></a><span class="co"># bad coin</span></span>
<span id="cb58-13"><a href="methods1.html#cb58-13"></a><span class="kw">toss</span>(<span class="kw">c</span>(<span class="st">&#39;tic&#39;</span>, <span class="st">&#39;tac&#39;</span>, <span class="st">&#39;toe&#39;</span>))</span>
<span id="cb58-14"><a href="methods1.html#cb58-14"></a><span class="co">#&gt; Error in toss(c(&quot;tic&quot;, &quot;tac&quot;, &quot;toe&quot;)): </span></span>
<span id="cb58-15"><a href="methods1.html#cb58-15"></a><span class="co">#&gt; toss() requires an object &#39;coin&#39;</span></span></code></pre></div>
<p>A more formal strategy, and one that follows OOP principles, is to create a
toss <strong>method</strong>. In R, many functions are actually methods: e.g. <code>print()</code>,
<code>summary()</code>, <code>plot()</code>, <code>str()</code>, etc. Out of curiosity, you can simply type the
name of the function—without parenthesis—and confirm that <code>print()</code> is a
method</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="methods1.html#cb59-1"></a><span class="co"># print method</span></span>
<span id="cb59-2"><a href="methods1.html#cb59-2"></a>print</span>
<span id="cb59-3"><a href="methods1.html#cb59-3"></a><span class="co">#&gt; function (x, ...) </span></span>
<span id="cb59-4"><a href="methods1.html#cb59-4"></a><span class="co">#&gt; UseMethod(&quot;print&quot;)</span></span>
<span id="cb59-5"><a href="methods1.html#cb59-5"></a><span class="co">#&gt; &lt;bytecode: 0x7fc314d47d58&gt;</span></span>
<span id="cb59-6"><a href="methods1.html#cb59-6"></a><span class="co">#&gt; &lt;environment: namespace:base&gt;</span></span></code></pre></div>
<p>The second line in the above output indicates <code>UseMethod("print")</code>, which is
the way R tells you that <code>print</code> is a generic method. In fact, if you look at
the manual documentation of <code>print()</code>, in the <em>Description</em> section you will
see the following information</p>
<blockquote>
<p><code>print</code> prints its argument and returns it invisibly (via <code>invisible(x)</code>).
It is a generic function which means that new printing methods can be easily
added for new classes.</p>
</blockquote>
<p>A function that is a generic method is not really one unique function but a
collection or family of functions for printing objects, computing summaries,
plotting, etc. Depending on the class of the object, a generic method will look
for a specific function for that class. For example, objects of class <code>"matrix"</code>
have several methods; to see the collection of available methods for this type
of object use the <code>methods()</code> function:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="methods1.html#cb60-1"></a><span class="co"># methods for objects &quot;matrix&quot;</span></span>
<span id="cb60-2"><a href="methods1.html#cb60-2"></a><span class="kw">methods</span>(<span class="dt">class =</span> <span class="st">&quot;matrix&quot;</span>)</span>
<span id="cb60-3"><a href="methods1.html#cb60-3"></a><span class="co">#&gt;  [1] anyDuplicated as.data.frame as.raster     boxplot      </span></span>
<span id="cb60-4"><a href="methods1.html#cb60-4"></a><span class="co">#&gt;  [5] coerce        determinant   duplicated    edit         </span></span>
<span id="cb60-5"><a href="methods1.html#cb60-5"></a><span class="co">#&gt;  [9] head          initialize    isSymmetric   Math         </span></span>
<span id="cb60-6"><a href="methods1.html#cb60-6"></a><span class="co">#&gt; [13] Math2         Ops           relist        subset       </span></span>
<span id="cb60-7"><a href="methods1.html#cb60-7"></a><span class="co">#&gt; [17] summary       tail          unique       </span></span>
<span id="cb60-8"><a href="methods1.html#cb60-8"></a><span class="co">#&gt; see &#39;?methods&#39; for accessing help and source code</span></span></code></pre></div>
</div>
<div id="generic-method-toss" class="section level2">
<h2><span class="header-section-number">4.3</span> Generic Method <code>toss</code></h2>
<p>Let’s see how to to create methods for our coin tossing working example.
When implementing new methods, you begin by creating a <strong>generic</strong> method with
the function <code>UseMethod()</code>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="methods1.html#cb61-1"></a><span class="co"># generic method &#39;toss&#39;</span></span>
<span id="cb61-2"><a href="methods1.html#cb61-2"></a>toss &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw">UseMethod</span>(<span class="st">&quot;toss&quot;</span>)</span></code></pre></div>
<p>The function <code>UseMethod()</code> allows you to declare the name of a method. In this
example we are telling R that the function <code>toss()</code> is now a generic <code>"toss"</code>
method. Note the use of <code>"..."</code> in the function definition, this will allow you
to include more arguments when you define specific methods based on <code>"toss"</code>.</p>
<p>A generic method alone is not very useful. You need to create specific cases for
the generic. In our example, we only have one class <code>"coin"</code>, so that is the
only class we will allow <code>toss</code> to be applied on. The way to do this is by
defining <code>toss.coin()</code>:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="methods1.html#cb62-1"></a><span class="co"># specific method &#39;toss&#39; for objects &quot;coin&quot;</span></span>
<span id="cb62-2"><a href="methods1.html#cb62-2"></a>toss.coin &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">times =</span> <span class="dv">1</span>, <span class="dt">prob =</span> <span class="ot">NULL</span>) {</span>
<span id="cb62-3"><a href="methods1.html#cb62-3"></a>  <span class="kw">sample</span>(x<span class="op">$</span>sides, <span class="dt">size =</span> times, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> prob)</span>
<span id="cb62-4"><a href="methods1.html#cb62-4"></a>}</span></code></pre></div>
<p>The name of the method, <code>"toss"</code>, comes first, followed by a dot <code>"."</code>, followed
by the name of the class, <code>"coin"</code>. Notice that the body of the function
<code>toss.coin()</code> does not include the <code>stop()</code> command anymore.</p>
<p>To use the <code>toss()</code> method on a <code>"coin"</code> object, you don’t really have to call
<code>toss.coin()</code>; calling <code>toss()</code> is enough:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="methods1.html#cb63-1"></a><span class="kw">toss</span>(coin1)</span>
<span id="cb63-2"><a href="methods1.html#cb63-2"></a><span class="co">#&gt; [1] &quot;tails&quot;</span></span></code></pre></div>
<p>How does <code>toss()</code> work? Becasue <code>toss()</code> is now a generic method, everytime you
use it, R will look at the class of the input, and see if there is an associated
<code>"toss"</code> method. In the previous example, <code>coin1</code> is an object of class <code>"coin"</code>,
for which there is a specific <code>toss.coin()</code> method. Thus using <code>toss()</code> on a
<code>"coin"</code> object works fine.</p>
<p>Now let’s try <code>toss()</code> on the character vector <code>c('tic', 'tac', 'toe')</code>:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="methods1.html#cb64-1"></a><span class="co"># no toss() method for regular vectors</span></span>
<span id="cb64-2"><a href="methods1.html#cb64-2"></a><span class="kw">toss</span>(<span class="kw">c</span>(<span class="st">&#39;tic&#39;</span>, <span class="st">&#39;tac&#39;</span>, <span class="st">&#39;toe&#39;</span>))</span>
<span id="cb64-3"><a href="methods1.html#cb64-3"></a><span class="co">#&gt; Error in UseMethod(&quot;toss&quot;): no applicable method for &#39;toss&#39; applied to an object of class &quot;character&quot;</span></span></code></pre></div>
<p>When you try to use <code>toss()</code> on an object that is not of class <code>"coin"</code>, you get
a nice error message like the one below</p>
<pre><code>Error in UseMethod(&quot;toss&quot;): no applicable method for &#39;toss&#39; 
applied to an object of class &quot;character&quot;</code></pre>
<p>Because an object <code>"coin"</code> already contains an element <code>prob</code>, the <code>toss.coin()</code>
function does not really need an argument <code>prob</code>. Instead, we can pass this
value from the coin object. Here’s a new definition of <code>toss.coin()</code>:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="methods1.html#cb66-1"></a>toss.coin &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">times =</span> <span class="dv">1</span>) {</span>
<span id="cb66-2"><a href="methods1.html#cb66-2"></a>  <span class="kw">sample</span>(x<span class="op">$</span>sides, <span class="dt">size =</span> times, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> x<span class="op">$</span>prob)</span>
<span id="cb66-3"><a href="methods1.html#cb66-3"></a>}</span></code></pre></div>
<p>Let’s toss a loaded coin:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="methods1.html#cb67-1"></a><span class="kw">set.seed</span>(<span class="dv">2341</span>)</span>
<span id="cb67-2"><a href="methods1.html#cb67-2"></a>loaded_coin &lt;-<span class="st"> </span><span class="kw">coin</span>(<span class="kw">c</span>(<span class="st">&#39;HEADS&#39;</span>, <span class="st">&#39;tails&#39;</span>), <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.75</span>, <span class="fl">0.25</span>))</span>
<span id="cb67-3"><a href="methods1.html#cb67-3"></a><span class="kw">toss</span>(loaded_coin, <span class="dt">times =</span> <span class="dv">6</span>)</span>
<span id="cb67-4"><a href="methods1.html#cb67-4"></a><span class="co">#&gt; [1] &quot;HEADS&quot; &quot;HEADS&quot; &quot;HEADS&quot; &quot;HEADS&quot; &quot;HEADS&quot; &quot;tails&quot;</span></span></code></pre></div>

</div>
</div>






</div>
            </section>

          </div>
        </div>
      </div>
<a href="coin.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["packyourcode.pdf", "packyourcode.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
